const music =[{
artist: "Tung Lam",
title:"Eliminate negativity",
song:"Eliminate negativity",
album:"TungArt7",
duration:"6:09",
img:"TungArt7.jpg",

}, {
    artist: "Shakib Hasan",
    title:"Forest",
    song:"Forest",
    album:"Onetent",
    duration:"6:45",
    img:"onetent.webp",
    },
    {
        artist: "Robert B",
        title:"Mother Gaia",
        song:"Mother Gaia",
        album:"The4ElementsOnline",
        duration:"5:39",
        img:"motherGaia.jpg",
        },
{
    artist: "Tung Lam",
    title:"Detoxify cells",
    song:"Detoxify cells",
    album:"TungArt7",
    duration:"6:57",
    img:"TungArt7.jpg",
    },
   
        {
            artist: "BluBonRelaXon",
            title:"Om Namah",
            song:"Om Namah",
            album:"BluBonRelaXon",
            duration:"5:05",
            img:"OmNamah.jpg",
            },
         
            {
                artist: "Dana Music",
                title:"relaxing-meditation",
                song:"relaxing-meditation",
                album:"Dana Music",
                duration:"6:07",
                img:"DanaMusic.jpg",
                
                }, {
                    artist: "Norrienglish",
                    title:"meditation",
                    song:"meditation",
                    album:"Norrienglish",
                    duration:"4:33",
                    img:"onetent.webp",
                    },
                    {
                        artist: "Dana Music",
                        title:"meditation-relax",
                        song:"meditation-relax",
                        album:"Dana Music",
                        duration:"6:08",
                        img:"DanaMusic.jpg",
                        },
                {
                    artist: "Zakhar Valaha",
                    title:"perfect-beauty",
                    song:"perfect-beauty",
                    album:"Zakhar Valaha",
                    duration:"7:20",
                    img:"ZakharValaha.jpg",
                    },
                   
                        {
                            artist: "Darren Lucas",
                            title:"transcendental-meditation",
                            song:"transcendental-meditation",
                            album:"Darren Lucas",
                            duration:"6:18",
                            img:"Dmitrii.webp",
                            },
                         
                
                {
                            artist: "Ashot Danielyan",
                            title:"beautiful-meditation",
                            song:"beautiful-meditation",
                            album:"Ashot Danielyan",
                            duration:"5:21",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                
                {
                            artist: "John K.",
                            title:"mindfulness-relaxation",
                            song:"mindfulness-relaxation",
                            album:"John K.",
                            duration:"4:00",
                            img:"john.jpeg",
                            },
                
                {
                            artist: "Dmitrii Kolesnikov",
                            title:"meditation15",
                            song:"meditation15",
                            album:"Dmitrii Kolesnikov",
                            duration:"4:37",
                            img:"russian.webp",
                            },
                
                {
                            artist: "BluBonRelaXon",
                            title:"music-for-relax",
                            song:"music-for-relax",
                            album:"BluBonRelaXon",
                            duration:"6:25",
                            img:"OmNamah.jpg",
                            },
                
                
                {
                            artist: "Zakhar Valaha",
                            title:"ambiant-relax",
                            song:"ambiant-relax",
                            album:"Zakhar Valaha",
                            duration:"7:08",
                            img:"ZakharValaha.jpg",
                            },
                
                {
                            artist: "Michael-X_Studio",
                            title:"athmospheric",
                            song:"athmospheric",
                            album:"Michael-X_Studio",
                            duration:"6:04",
                            img:"Michael-X_Studio.png",
                            },
                
                {
                            artist: "Artur Aravidi",
                            title:"meditation154",
                            song:"meditation154",
                            album:"Artur Aravidi",
                            duration:"4:56",
                            img:"OmNamah.jpg",
                            },
                
                
                {
                            artist: "Maksym Dudchyk",
                            title:"healing-meditation",
                            song:"healing-meditation",
                            album:"Maksym Dudchyk",
                            duration:"6:04",
                            img:"OmNamah.jpg",
                            },
                
                {
                            artist: "Michael-X_Studio",
                            title:"powerful",
                            song:"powerful",
                            album:"Michael-X_Studio",
                            duration:"7:28",
                            img:"Michael-X_Studio.png",
                            },
                
                
                {
                            artist: "Darren Lucas",
                            title:"kundalini",
                            song:"kundalini",
                            album:"Darren Lucas",
                            duration:"4:15",
                            img:"Dmitrii.webp",
                            },
                
                {
                            artist: "Ashot Danielyan",
                            title:"into-meditation",
                            song:"into-meditation",
                            album:"Ashot Danielyan",
                            duration:"6:48",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                {
                            artist: "Michael-X_Studio",
                            title:"healing-yoga",
                            song:"healing-yoga",
                            album:"Michael-X_Studio",
                            duration:"4:49",
                            img:"Michael-X_Studio.png",
                            },
                
                
                {
                            artist: "Ashot Danielyan",
                            title:"meditation-tibetan",
                            song:"meditation-tibetan",
                            album:"Ashot Danielyan",
                            duration:"6:58",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                
                
                {
                            artist: "Kevin Horizon",
                            title:"reiki-meditation",
                            song:"reiki-meditation",
                            album:"Kevin Horizon",
                            duration:"6:55",
                            img:"Kevin.jpg",
                            },
                
                
                {
                            artist: "Jonathan Underwood",
                            title:"meditation-atmosphere",
                            song:"meditation-atmospheren",
                            album:"Jonathan Underwood",
                            duration:"5:04",
                            img:"Jonathan.jpg",
                            },
                
                
                {
                            artist: "Ashot Danielyan",
                            title:"space-meditation",
                            song:"space-meditation",
                            album:"Ashot Danielyan",
                            duration:"6:37",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                
                {
                            artist: "Maksym Dudchyk",
                            title:"spring-breeze",
                            song:"spring-breeze",
                            album:"Maksym Dudchyk",
                            duration:"6:43",
                            img:"mustnag.jpg",
                            },
                
                
                {
                            artist: "Michael-X_Studio",
                            title:"417hz-healing",
                            song:"417hz-healing",
                            album:"Michael-X_Studio",
                            duration:"6:24",
                            img:"Michael-X_Studio.png",
                            },
                
                {
                            artist: "Dmitry",
                            title:"meditative-chill",
                            song:"meditative-chill",
                            album:"Dmitry",
                            duration:"5:55",
                            img:"russian.webp",
                            },
                
                
                {
                            artist: "Ashlee Storey",
                            title:"meditation-bowls",
                            song:"meditation-bowls",
                            album:"Ashlee Storey",
                            duration:"7:47",
                            img:"Ashlee.jpg",
                            },
                










]

// ************************ data filling
const musicContainer=  document.querySelector('.musicContainer');
music.forEach(m=>{
    const musicPlayerBoxDiv = document.createElement('div');
    musicPlayerBoxDiv.className ="musicPlayerBox";
    musicPlayerBoxDiv.innerHTML=` 
   <p class="text-1xl text-center py-1 font-bold artist">${m.artist}</p>
    <div class="imgContainer ">
        <img src="./images/${m.img}" alt="${m.img}" >

    </div>
 
    <p class="text-center ">${m.title}</p>
    <p class="text-center pb-2">${m.album}</p>
     
    <button class="musicPlayBtn" data-song="${m.song}">Pl<i class="fa-solid fa-circle-play fa-beat-fade px-1" style="color: #87ec00;"></i></i>y</button>
     
    


   `;
    musicContainer.appendChild(musicPlayerBoxDiv);
});
// ************************ Music player essesntial filling
const playButtons = document.querySelectorAll('.musicPlayBtn');
const mainaudio =  document.querySelector('audio');

playButtons.forEach(button=>{
    button.addEventListener('click',(e)=>{
console.log(e.target.dataset.song);

const musicPlayerBox = e.target.closest('.musicPlayerBox');

const artist = musicPlayerBox.querySelector('.artist').textContent;
const title = musicPlayerBox.querySelector('.text-center').textContent; 
const song = e.target.dataset.song;
const album = musicPlayerBox.querySelector('.text-center.pb-2').textContent;
const img = musicPlayerBox.querySelector('.imgContainer img').alt;
const musicPlayer = document.querySelector('.video-container-body .musicPlayerBox ');
const musicPlayerArtist = document.querySelector('.video-container-body .musicPlayerBox .musicArtist');
const musicPlayerImage = document.querySelector('.video-container-body .musicPlayerBox img');
const musicPlayerSong = document.querySelector('.video-container-body .musicPlayerBox .musicSongName');
const musicPlayerAlbum = document.querySelector('.video-container-body .musicPlayerBox .musicSongAlbum');
// const musicPlayerArtist = document.querySelector('.video-container-body .musicPlayerBox .musicArtist');
musicPlayerArtist.textContent=artist;
musicPlayerImage.src="./images/"+img;
musicPlayerSong.textContent=title;
musicPlayerAlbum.textContent=album;
mainaudio.src =`./music/${song}.mp3`
// mainaudio.play();

const videoContainerBody = document.querySelector('.video-container-body');
const imgContainer=  document.querySelector('.video-container-body .imgContainer');
videoContainerBody.style.display = 'flex';
    })
});
const playPauseBtn=  document.querySelector('.playPauseBtn');
playPauseBtn.addEventListener('click',()=>{
    if (mainaudio.paused) {
                    mainaudio.play();
                    playPauseBtn.classList.replace('fa-circle-play', 'fa-circle-pause');
                    imgContainer.classList.add("musicAnimation");
                } else {
                    mainaudio.pause();
                    playPauseBtn.classList.replace('fa-circle-pause', 'fa-circle-play');
                    imgContainer.classList.remove("musicAnimation");
                }

                closeVideoButton.addEventListener('click', () => {
                    const videoContainerBody = document.querySelector('.video-container-body');
                    // const video = videoContainerBody.querySelector('video');
                
                    if(mainaudio.play)  { playPauseBtn.classList.replace('fa-circle-pause', 'fa-circle-play');
                        imgContainer.classList.remove("musicAnimation");
                        
                    }
                    mainaudio.pause();
                    videoContainerBody.style.display = 'none';
                
                    
                });


});


const musicSlider =  document.querySelector('.musicRangeSlider');
const musicCurrentTime =  document.querySelector('.musicCurrentTime');
const musicTotalTime =  document.querySelector('.musicTotalTime');
const volumeBtn =document.querySelector(".volumeBtn");
// const playbtn=  document.querySelectorAll('.playPauseBtn');


mainaudio.addEventListener('timeupdate',(e)=>{
    let {currentTime ,duration} =e.target;
    musicSlider.style.width=`${(currentTime/duration) * 100}%`;
    const minutes = Math.floor(currentTime/60);
    const seconds = Math.floor(currentTime % 60);
    const totalminutes = Math.floor(duration/60);
    const totalseconds = Math.floor(duration % 60);
    

    musicCurrentTime.textContent =`${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
    musicTotalTime.textContent =`${totalminutes.toString().padStart(2,'0')}:${totalseconds.toString().padStart(2,'0')}`;
    
})


volumeBtn.addEventListener('click',()=>{
    if(volumeBtn.classList.contains("fa-volume-high")){
        mainaudio.volume=0.0;
        volumeBtn.classList.replace("fa-volume-high","fa-volume-xmark");

    }else{
        mainaudio.volume=1;
        volumeBtn.classList.replace("fa-volume-xmark","fa-volume-high");
    }
  
    });






const imgContainer=  document.querySelector('.imgContainer');
const closeVideoButton = document.querySelector('.close-video-player');




// displayPlaybtn.forEach(button=>{
//     button.addEventListener('click',(e)=>{
// console.log(e.target);
//     })
// })



const repeatIcon = document.querySelector('.fa-repeat');

repeatIcon.addEventListener('click', () => {
    
    mainaudio.loop = !mainaudio.loop;

  
    if (mainaudio.loop) {
        repeatIcon.classList.add('loopactive'); 
    } else {
        repeatIcon.classList.remove('loopactive'); 
    }
});



// console.log(playButtons);
